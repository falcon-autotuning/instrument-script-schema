api_version: "1.0.0"

instrument:
  vendor: "Keysight"
  model: "DSO9254A"
  identifier: "GPI1"
  description: "High-Performance Oscilloscope"
  firmware_version: "6.30.00"

protocol:
  type: "VISA"

commands:
  SET_SAMPLE_RATE:
    template: "ACQ:SRAT {channel},{rate}"
    description: "Set acquisition sample rate for specified channel"
    parameters:
      - name: channel
        type: int
        description: "Channel number (1-4)"
        min: 1
        max: 4
      - name: rate
        type: float
        description: "Sample rate in Hz"
        precision: 0.00001
        min: 1000
        max: 80000000000
        unit: "Hz"
    returns: void

  GET_DATA:
    template: "WAV:DATA?  {channel}"
    description: "Retrieve waveform data from channel"
    parameters:
      - name: channel
        type: int
        description: "Channel number (1-4)"
        min: 1
        max: 4
    returns: array<float>
    query: true

  SET_VOLTAGE_RANGE:
    template: "CHAN{channel}:RANG {range}"
    description: "Set voltage range for channel"
    parameters:
      - name: channel
        type: int
        min: 1
        max: 4
      - name: range
        type: float
        description: "Voltage range in volts"
        precision: 0.001
        unit: "V"
    returns: void

  GET_TRIGGER_LEVEL:
    template: "TRIG:LEV? {channel}"
    description: "Query trigger level"
    parameters:
      - name: channel
        type: int
        min: 1
        max: 4
    returns: float
    query: true
